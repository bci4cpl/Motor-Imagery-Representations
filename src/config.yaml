# Shared base paths to eliminate redundancy
motor_imagery_skill_dir: "D:/Niv/Motor imagery skill/weights"
data_root: "d:/Niv/Data"

# Autoencoder architecture parameters (same for all subjects)
ae_params:
  encoder_pad: [1, 1, 1]
  decoder_pad: [1, 1, 1, 0, 1, 0]
  latent_sz: 1120

# Training hyperparameters (same for all subjects)
training_params:
  device: "cpu" # 'cuda'
  ae_lrn_rt: 3e-4
  btch_sz: 8
  cnvl_filters: [8, 16, 32]

# Global pipeline settings
n_components: [2, 4, 6, 8, 10]
seed: 42
AE_mode: "unsupervised"
mode: "test"

subjects:
  - id: "201"
    best_components: 6
    data:
      sub: "201"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 1
      save_every: 1

    ae_paths:
      one_epoch: "{ae_dir}/unsupervised_model_parameters_one_epoch.pt"
      full:      "{ae_dir}/ae_epoch_20.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 30]
      test:  [30, 133]



  - id: "205"
    best_components: 6
    data:
      sub: "205"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1,2,3]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 200
      save_every: 20

    ae_paths:
      20_epoch: "{ae_dir}/ae_epoch_20.pt"
      full:      "{ae_dir}/ae_epoch_40.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 3]
      test:  [3, 8]



  - id: "206"
    best_components: 10
    data:
      sub: "206"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1,2,3]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 200
      save_every: 20


    ae_paths:
      20_epoch: "{ae_dir}/ae_epoch_20.pt"
      full:      "{ae_dir}/ae_epoch_40.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 3]
      test:  [3, 9]