# Shared base paths to eliminate redundancy
motor_imagery_skill_dir: "C:/Users/owner/Desktop/Niv/Niv_github/Motor-Imagery-Representations/src/weights"
data_root: "D:/Niv/Data/Data"
# Autoencoder architecture parameters (same for all subjects)
ae_params:
  encoder_pad: [1, 1, 1]
  decoder_pad: [1, 1, 1, 0, 1, 0]
  latent_sz: 1120

# Training hyperparameters (same for all subjects)
training_params:
  device: "cpu" # 'cuda'
  ae_lrn_rt: 3e-4
  btch_sz: 8
  cnvl_filters: [8, 16, 32]

# Global pipeline settings
n_components: [2, 4, 6, 8, 10]
seed: 42
AE_mode: "unsupervised"
mode: "test" # if change to train, please create a new folder for the saved files and change clf_dir and ae_dir to ./new

# --- Experiment control toggles ---
experiment_sub : "201"
run_cluster_separation: true
run_variance_smoothing: false
run_delta_matrix: false
run_sliding_window: true
run_track_centers: true
run_trial_window: true

# --- Analysis parameters ---
start_test_day: 1
end_test_day: 100
start_day: 1
window_size: 10
overlap_size: 5
trial_window_size: 10
metric: "AUC"

# --- Feature space overrides (optional, usually handled in code) ---
spaces: {}    # Leave empty to use defaults or specify custom mapping
dim_dict: {}  # Leave empty to use defaults or specify custom mapping


subjects:
  - id: "201"
    best_components: 6
    data:
      sub: "201"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 1
      save_every: 1

    ae_paths: #change here to the specific model
      best_epoch: "{ae_dir}/unsupervised_model_parameters_one_epoch.pt"
      alternative_epoch: "{ae_dir}/ae_epoch_20.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 30]
      test:  [30, 133]



  - id: "205"
    best_components: 6
    data:
      sub: "205"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1,2,3]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 200
      save_every: 20

    ae_paths: #change here to the specific model
      best_epoch: "{ae_dir}/ae_epoch_20.pt"
      alternative_epoch: "{ae_dir}/ae_epoch_40.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 3]
      test:  [3, 8]



  - id: "206"
    best_components: 10
    data:
      sub: "206"
      eyes_state: "CC"
      data_dir: "{data_root}"
      block: [1,2,3]
      trial_len: 6
      filter_lim: [1, 40]
      elec_idxs: [0,1,2,3,4,5,6,7,8,9,10]

    ae_dir: "{motor_imagery_skill_dir}/AE/sub_{id}"
    clf_dir: "{motor_imagery_skill_dir}/clf/sub_{id}"

    ae_train_params:
      n_epochs: 200
      save_every: 20


    ae_paths: #change here to the specific model
      best_epoch: "{ae_dir}/ae_epoch_20.pt"
      alternative_epoch: "{ae_dir}/ae_epoch_40.pt"

    clf_paths:
      best_model: "{clf_dir}/best_model_{best_components}.pkl"
      pca2d:      "{clf_dir}/pca2D_reducer.pkl"
      umap2d:     "{clf_dir}/umap2D_reducer.pkl"
      pca3d:      "{clf_dir}/pca3D_reducer.pkl"
      umap3d:     "{clf_dir}/umap3D_reducer.pkl"

    cache_dir: "./cache/sub_{id}"
    figures:
      base:         "./Figures/sub_{id}"
      window10:     "./Figures/sub_{id}/10_day_window"
      centers:      "./Figures/sub_{id}/centers"
      trial_window: "./Figures/sub_{id}/trial_window"

    train_test_days:
      train: [0, 3]
      test:  [3, 9]